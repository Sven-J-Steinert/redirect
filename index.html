<!DOCTYPE html>
<html lang="en">
<head>
  <title>redirect</title>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <meta name="description" content="" />
  
  <style>
    .container {
      position: absolute;
      top: 50%;
      left: 50%;
      -moz-transform: translateX(-50%) translateY(-50%);
      -webkit-transform: translateX(-50%) translateY(-50%);
      transform: translateX(-50%) translateY(-50%);
      background-color: lightgrey;
    }
  </style>
</head>

<body>
  <div class="container">
    <span>If you see this, your link couldnt be parsed</span>
    <span>select the paper you are looking for below</span>
  </div>

  <script>
    const database_text = '{ ' +
      '"DLR_Paper_2022": "https://github.com/Sven-J-Steinert/DLR_Paper_2022",'  +
      '"placeholder1": "https://github.com/Sven-J-Steinert?tab=repositories",'  +
      '"placeholder2": "https://github.com/Sven-J-Steinert/redirect"'           +
      '}';

    const database = JSON.parse(database_text);
    console.log(database);
    console.log(database["DLR_Paper_2022"]);
    
    var search = location.search.substring(1);
    var param_JSON = JSON.parse('{"' + decodeURI(search).replace(/"/g, '\\"').replace(/&/g, '","').replace(/=/g,'":"') + '"}');
    console.log(param_JSON); // print param
    var id = param_JSON['id'];

    if(typeof id !== "undefined")
    {
      window.location.replace(database[id]);
    }
    
  </script>

</body>

</html>
